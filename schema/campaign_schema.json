{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["campaign_id","campaign_name","objective","total_budget","budget_breakdown","ad_groups","checks"],
  "properties": {
    "campaign_id": {"type":"string"},
    "campaign_name": {"type":"string"},
    "objective": {"type":"string"},
    "total_budget": {"type":"integer","minimum":0},
    "budget_breakdown": {
      "type":"object",
      "additionalProperties": {"type":"integer","minimum":0}
    },
    "ad_groups": {
      "type":"array",
      "items": {
        "type":"object",
        "required":["id","target","creatives"],
        "properties":{
          "id":{"type":"string"},
          "target":{
            "type":"object",
            "required":["segment_hint","age"],
            "properties":{"segment_hint":{"type":"string"},"age":{"type":"string"}}
          },
          "creatives":{
            "type":"array",
            "items":{
              "type":"object",
              "required":["id","headline","body","cta","justification"],
              "properties":{
                "id":{"type":"string"},
                "headline":{"type":"string"},
                "body":{"type":"string","maxLength":140},
                "cta":{"type":"string"},
                "justification":{"type":"string"}
              }
            }
          }
        }
      }
    },
    "checks": {
      "type":"object",
      "properties":{
        "budget_sum_ok": {"type":"boolean"},
        "required_fields_present": {"type":"boolean"},
        "grounding_source": {"type":["string","null"]}
      }
    }
  }
}
